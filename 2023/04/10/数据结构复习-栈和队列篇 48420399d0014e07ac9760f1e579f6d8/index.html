<!DOCTYPE html><html lang="en" theme-mode="auto"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ç®—æ³•æå‡â€”â€”æ ˆå’Œé˜Ÿåˆ—ç¯‡ | RacerZ</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"code.copy","copyFinish":"code.copyFinish","expand":"code.expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light' || window.matchMedia('(prefers-color-scheme:light)').matches) document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark' || window.matchMedia('(prefers-color-scheme:dark)').matches) document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><div id="shadow-header"></div><article><div id="post-bg"><div id="post-title"><h1>ç®—æ³•æå‡â€”â€”æ ˆå’Œé˜Ÿåˆ—ç¯‡</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-04-09T16:00:00.000Z" id="date"> 2023-04-10</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-04-10T13:27:31.353Z" id="updated"> 2023-04-10</time></div></span></div></div><hr><div id="post-content"><ul>
<li><p>åŸºæœ¬åŸç†</p>
<ol>
<li><p>ç”¨åº•å±‚é“¾è¡¨ç»“æ„ <code>LinkedList</code> å®ç°æ ˆç»“æ„</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedStack</span>&lt;E&gt; &#123;<br>	<span class="hljs-comment">// ç›´æ¥è°ƒç”¨åº•å±‚ api </span><br>	<span class="hljs-keyword">private</span> MyLinkedList&lt;E&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyLinkedList</span>&lt;&gt;();<br><br>	<span class="hljs-comment">// å‹æ ˆ</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(E e)</span> &#123;<br>		list.addLast(e);<br>	&#125;<br><br>	<span class="hljs-comment">// å¼¹æ ˆ</span><br>	<span class="hljs-keyword">public</span> E <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">return</span> list.removeLast();	<br>	&#125;<br><br>	<span class="hljs-comment">// æŸ¥çœ‹æ ˆé¡¶å…ƒç´ </span><br>	<span class="hljs-keyword">public</span> E <span class="hljs-title function_">peek</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">return</span> list.getLast();<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>æ„å»ºåŒç«¯é˜Ÿåˆ— <code>Deque</code> </p>
 <aside>
 ğŸ’¡ ç‰¹ç‚¹ï¼šåœ¨é˜Ÿåˆ—å¤´å°¾å‡å¯å¢åˆ å…ƒç´ 
 åº•å±‚å¦‚æœç”¨çš„é“¾è¡¨ä¹Ÿå¯ä»¥ç›´æ¥å¤ç”¨
 </aside>

<p> åº•å±‚ä½¿ç”¨æ•°ç»„çš„å®ç°ï¼Œå¦‚ä½•é«˜æ•ˆä½¿ç”¨ï¼Ÿâ‡’ ç¯å½¢æ•°ç»„</p>
<p> é€šè¿‡æ–°å¢ä¸¤ä¸ªç´¢å¼•æŒ‡é’ˆ <code>first</code> å’Œ <code>last</code> ï¼›æ³¨æ„ <code>last</code> æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„åè¾¹ï¼Œ<code>first</code> æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³å·¦é—­å³å¼€åŒºé—´</p>
<p class='item-img' data-src='/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled.png'><img src="/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled.png" alt="Untitled"></p>
<p> æˆ‘ä»¬å¯ä»¥å°†å…¶çœ‹ä½œç¯ï¼Œå½“ <code>first</code> æŒ‡é’ˆåœ¨ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶æƒ³è¦æ‰©å®¹ï¼Œå¯ä»¥è·³è‡³å°¾éƒ¨ç»§ç»­æ·»åŠ å…ƒç´ ï¼›ç›´è‡³ <code>first</code> å’Œ <code>last</code> æŒ‡å‘ä¸€æ ·ä¸”æ•°ç»„ä¸­å…ƒç´ å·²æ»¡æ—¶å†æ‰©å®¹</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">resize</span><span class="hljs-params">(<span class="hljs-type">int</span> newCap)</span> &#123;<br>	E[] temp = (E[]) <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[newCap];<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>		temp[i] = data[(first + i) % data.length];<br>	&#125;<br><br>	first = <span class="hljs-number">0</span>;<br>	last = size;<br>	data = temp;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addFirst</span><span class="hljs-params">(E e)</span> &#123;<br>	<span class="hljs-comment">// æ‰©å®¹</span><br>	<span class="hljs-keyword">if</span> (size == data.length) &#123;<br>		resize(<span class="hljs-number">2</span> * data.length);<br>	&#125;<br>	<br>	<span class="hljs-keyword">if</span> (first == <span class="hljs-number">0</span>) &#123;<br>		first = data.length - <span class="hljs-number">1</span>;<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		first--;<br>	&#125;<br>	<span class="hljs-comment">// æ’å…¥æ•°æ®</span><br>	data[first] = e;<br>	<br>	size++;	<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addLast</span><span class="hljs-params">(E e)</span> &#123;<br>	<span class="hljs-keyword">if</span> (size == data.length) &#123;<br>		resize(<span class="hljs-number">2</span> * data.length);<br>	&#125;<br>	<br>	data[last] = e;<br>	last++;<br>	<span class="hljs-keyword">if</span> (last == data.length) &#123;<br>		last = <span class="hljs-number">0</span>;<br>	&#125;<br>		<br>	size++;<br>&#125;<br><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeFirst</span><span class="hljs-params">()</span> &#123;<br>	<span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>		<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoSuchElementException</span>();<br>	&#125;<br>	<span class="hljs-comment">// ç¼©å®¹</span><br>	<span class="hljs-keyword">if</span> (size == data.length / <span class="hljs-number">4</span>) &#123;<br>		resize(data.length / <span class="hljs-number">2</span>);<br>	&#125;<br>	<br>	<span class="hljs-type">E</span> <span class="hljs-variable">oldVal</span> <span class="hljs-operator">=</span> data[first];<br>	data[first] = <span class="hljs-literal">null</span>;<br>	first++;<br>	<span class="hljs-keyword">if</span> (first == data.length) &#123;<br>		first = <span class="hljs-number">0</span>;<br>	&#125;<br>	<br>	size--;<br><br>	<span class="hljs-keyword">return</span> oldVal;<br>&#125;<br><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">removeLast</span><span class="hljs-params">()</span> &#123;<br>	<span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>		<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoSuchElementException</span>();<br>	&#125;<br>	<span class="hljs-comment">// ç¼©å®¹</span><br>	<span class="hljs-keyword">if</span> (size == data.length / <span class="hljs-number">4</span>) &#123;<br>		resize(data.length / <span class="hljs-number">2</span>);<br>	&#125;<br>	<br>	<span class="hljs-keyword">if</span> (last == <span class="hljs-number">0</span>) &#123;<br>		last = data.length - <span class="hljs-number">1</span>;<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>			last--;		<br>	&#125;<br>	<br>	<span class="hljs-type">E</span> <span class="hljs-variable">oldVal</span> <span class="hljs-operator">=</span> data[last];<br>	data[last] = <span class="hljs-literal">null</span>;<br><br>	size--;<br>	<span class="hljs-keyword">return</span> oldVal;<br>&#125;<br><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">getFirst</span><span class="hljs-params">()</span> &#123;<br>	<span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>		<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoSuchElementException</span>();<br>	&#125;<br>	<span class="hljs-keyword">return</span> data[first];<br>&#125;<br><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">getLast</span><span class="hljs-params">()</span> &#123;<br>	<span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>		<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoSuchElementException</span>();<br>	&#125;<br>	<span class="hljs-keyword">if</span> (last == <span class="hljs-number">0</span>) &#123;<br>		<span class="hljs-keyword">return</span> data[data.length - <span class="hljs-number">1</span>];<br>	&#125;<br>	<span class="hljs-keyword">return</span> data[last - <span class="hljs-number">1</span>];<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>RingBuffer</code> ç»“æ„</p>
<ul>
<li><p>API</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä» RingBuffer ä¸­è¯»å–å…ƒç´ åˆ° out ä¸­ï¼Œè¿”å›è¯»å–çš„å­—èŠ‚æ•°</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">read</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] out)</span>;<br><span class="hljs-comment">// å°† in ä¸­çš„æ•°æ®å†™å…¥ RingBuffer, è¿”å›å†™å…¥çš„å­—èŠ‚ä¸ªæ•°</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">write</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] in)</span>;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å·¥ä½œåŸç†</p>
<p>  r å’Œ w æŒ‡é’ˆå°±ç±»ä¼¼å‰é¢æåˆ°çš„ <code>first</code> å’Œ <code>last</code> æŒ‡é’ˆ</p>
<p>  read æ–¹æ³•å®é™…å°±æ˜¯ <code>removeFirst()</code></p>
<p>  write æ–¹æ³•å®é™…å°±æ˜¯ <code>addLast()</code> </p>
<p>  buffer æ•°ç»„ç»´æŠ¤çš„å®é™…å°±æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—</p>
<p class='item-img' data-src='/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%201.png'><img src="/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%201.png" alt="Untitled"></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">RingBuffer</span><span class="hljs-params">(<span class="hljs-type">int</span> cap)</span> &#123;<br>	<span class="hljs-comment">// è¾“å…¥çš„ cap å˜æˆ 2 çš„æŒ‡æ•°</span><br>	cap = ceilToPowerOfTwo(cap);<br>	<br>	<span class="hljs-comment">// (i + n) % capacity &lt;=&gt; (i + n) &amp; mask</span><br>	<br>	mask = cap - <span class="hljs-number">1</span>;<br>	buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[cap];<br>	<br>	r = w = <span class="hljs-number">0</span>;<br>	<br>	size = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ceilToPowerOfTwo</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>	<span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;<br>		n = <span class="hljs-number">2</span>;<br>	&#125;<br>	<br>	<span class="hljs-keyword">if</span> (n &gt; (<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">30</span>)) &#123;<br>		n = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">30</span>;<br>	&#125;<br><br>	n--;<br>	n |= n &gt;&gt; <span class="hljs-number">1</span>;<br>	n |= n &gt;&gt; <span class="hljs-number">2</span>;<br>	n |= n &gt;&gt; <span class="hljs-number">4</span>;<br>	n |= n &gt;&gt; <span class="hljs-number">8</span>;<br>	n |= n &gt;&gt; <span class="hljs-number">16</span>;<br>	n++;<br><br>	<span class="hljs-keyword">return</span> n;<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">resize</span><span class="hljs-params">(<span class="hljs-type">int</span> newCap)</span> &#123;<br>	newCap = ceilToPowerOfTwo(newCap);<br>	<br>	<span class="hljs-type">byte</span>[] temp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[newCap];<br>	<span class="hljs-comment">// å°† data ä¸­çš„æ•°æ®è¯»å…¥</span><br>	<span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> read(temp);<br>	<br>	<span class="hljs-built_in">this</span>.buffer = temp;<br>	<span class="hljs-built_in">this</span>.r = <span class="hljs-number">0</span>;<br>	<span class="hljs-comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br>	<span class="hljs-built_in">this</span>.w = n;<br>	<span class="hljs-built_in">this</span>.mask = newCap - <span class="hljs-number">1</span>;<br><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">write</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] in)</span> &#123;<br>	<span class="hljs-keyword">if</span> (in == <span class="hljs-literal">null</span> || in.length == <span class="hljs-number">0</span>) &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	&#125;<br><br>	<span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> in.length;<br>	<span class="hljs-comment">// è¿˜æœ‰å¤šå°‘ç©ºé—´</span><br>	<span class="hljs-type">int</span> <span class="hljs-variable">free</span> <span class="hljs-operator">=</span> buffer.length - size;<br>	<span class="hljs-keyword">if</span> (n &gt; free) &#123;<br>	<span class="hljs-comment">// æ‰©å®¹</span><br>		resize(size + n);<br>	&#125;<br><br>	<span class="hljs-comment">// 1. r ----- w</span><br>	<span class="hljs-keyword">if</span> (w &gt;= r) &#123;<br>			<span class="hljs-keyword">if</span> (w + n &lt;= buffer.length)&#123;<br>			<span class="hljs-comment">// 1.1 r --- **w</span><br>			System.arraycopy(in, <span class="hljs-number">0</span>, buffer, w, n);<br>		&#125; <span class="hljs-keyword">else</span> &#123;<br>			<span class="hljs-comment">// 1.2 **w r--**	</span><br>			<span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> buffer.length - w;<br>			<span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> n - n1;<br>			System.arraycopy(in, <span class="hljs-number">0</span>, buffer, w, n1);<br>			System.arraycopy(in, <span class="hljs-number">0</span>, buffer, <span class="hljs-number">0</span>, n2);<br>		&#125;	<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		<span class="hljs-comment">// 2. --w  r -- </span><br>		<span class="hljs-comment">// buffer ç©ºé—´è¶³å¤Ÿï¼Œå¯ç›´æ¥å†™å…¥</span><br>		System.arraycopy(in, <span class="hljs-number">0</span>, buffer, w, n);<br>	&#125;	<br>		<span class="hljs-comment">// w æŒ‡é’ˆå‰ç§»</span><br>		w = (w + n) &amp; mask;<br>		<span class="hljs-comment">// å¯è¯»çš„å¢åŠ äº† n ä¸ªå­—èŠ‚</span><br>		size += n;<br>		<span class="hljs-keyword">return</span> n;<br>	&#125;<br><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">read</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] out)</span> &#123;<br>	<span class="hljs-keyword">if</span> (out == <span class="hljs-literal">null</span> || out.length == <span class="hljs-number">0</span> || isEmpty()) &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	&#125;<br><br>	<span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> Math.min(size, out.length);<br>	<span class="hljs-comment">// 1. r ----- w</span><br>	<span class="hljs-keyword">if</span> (r &lt; w) &#123;<br>		<span class="hljs-comment">// ***r--w</span><br>		System.arraycopy(buffer, r, out, <span class="hljs-number">0</span>, n);<br>		r += n;<br>		size -= n;<br>		<span class="hljs-keyword">return</span> n;<br>	&#125;<br>	<span class="hljs-comment">// 2 --w r -- </span><br>	<span class="hljs-keyword">if</span> (r + n &lt;= buffer.length) &#123;<br>		<span class="hljs-comment">// 2.1 --w **r--</span><br>		System.arraycopy(buffer, r, out, <span class="hljs-number">0</span>, n);<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		<span class="hljs-comment">// 2.2 **r--w ***</span><br>		<span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> buffer.length - r;<br>		<span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> n - n1;<br>		System.arraycopy(buffer, r, out, <span class="hljs-number">0</span>, n1);<br>		System.arraycopy(buffer, <span class="hljs-number">0</span>, out, n1, n2);<br>	&#125;<br>	<span class="hljs-comment">// r å‰ç§»</span><br>	r = (r+n) &amp; mask;<br>	size -= n;<br>	<span class="hljs-keyword">return</span> n;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>  <strong>PS: mask ä½¿ç”¨æŠ€å·§</strong></p>
<p class='item-img' data-src='/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%202.png'><img src="/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%202.png" alt="Untitled"></p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>æ ˆçš„ç»å…¸ä¹ é¢˜</p>
<ul>
<li><p>ğŸ‘Š<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reorder-list/">leetcode-143 é‡æ’é“¾è¡¨</a></p>
<p>  è¿™é“é¢˜ç›®çš„æ˜¯é‡æ„é“¾è¡¨ä½¿ä¹‹å˜æˆé¦–å°¾äº¤æ›¿é“¾æ¥ï¼Œæ ˆçš„ç»“æ„å°±æ˜¯å¯ä»¥æ„æˆä¸€ä¸ªé€†åºçš„é“¾è¡¨èŠ‚ç‚¹ã€‚è¿™é‡Œçš„éš¾ç‚¹åœ¨äºå¤„ç†æœ€åèŠ‚ç‚¹ï¼Œé¿å…å‡ºç°ç¯è·¯çš„æƒ…å†µã€‚éœ€è¦ç‰¹åˆ«åˆ¤æ–­ <code>next</code> æŒ‡é’ˆå’Œ <code>temp</code> æŒ‡é’ˆçš„æŒ‡å‘å…³ç³»</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">reorderList</span><span class="hljs-params">(ListNode head)</span> &#123;<br>        <span class="hljs-comment">// ç»´æŠ¤ä¸€ä¸ªæ ˆç»“æ„</span><br>        Stack&lt;ListNode&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>        <span class="hljs-type">ListNode</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> head;<br>        <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">null</span>) &#123;<br>            stack.push(p);<br>            p = p.next;<br>        &#125;<br><br>        p = head;<br>        <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> stack.pop();<br>            <span class="hljs-type">ListNode</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> p.next;<br>            <span class="hljs-comment">// è€ƒè™‘ç»ˆæ­¢æ¡ä»¶ =&gt; åˆ†åˆ«å¯¹äºå¶æ•°å’Œå¥‡æ•°èŠ‚ç‚¹çš„æƒ…å†µ</span><br>            <span class="hljs-keyword">if</span> (next == temp || temp.next == next) &#123;<br>                temp.next = <span class="hljs-literal">null</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            p.next = temp;<br>            temp.next = next;<br>            <span class="hljs-comment">// </span><br>            p = next;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parentheses/">leetcode-20 æœ‰æ•ˆçš„æ‹¬å·</a></p>
<p>  è¿™ä¸ªå°±æ˜¯æœ€åŸºæœ¬çš„æ ˆåŒ¹é…é—®é¢˜ï¼Œè€ƒè™‘ä¸€ä¸‹æ ˆä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ çš„ç‰¹æ®Šæƒ…å†µå³å¯</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValid</span><span class="hljs-params">(String s)</span> &#123;<br>        Stack&lt;Character&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : s.toCharArray()) &#123;<br>            <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;&#123;&#x27;</span> || c == <span class="hljs-string">&#x27;[&#x27;</span> || c == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>                stack.push(c);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span> (!stack.isEmpty() &amp;&amp; getPair(stack.peek()) == c) &#123;<br>                    stack.pop();<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> stack.isEmpty() ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">char</span> <span class="hljs-title function_">getPair</span><span class="hljs-params">(<span class="hljs-type">char</span> c)</span> &#123;<br>        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;&#123;&#x27;</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;[&#x27;</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;]&#x27;</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;)&#x27;</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;1&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/evaluate-reverse-polish-notation/">leetcode-150 é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a></p>
<p>  å°±æ˜¯åç¼€è¡¨è¾¾å¼æ±‚å€¼ï¼Œç¼–è¯‘åŸç†è¯¾ä¸Šä¹Ÿè®²è¿‡å…·ä½“çš„è®¡ç®—æ–¹æ³•ã€‚é€šè¿‡ç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œé‡è§æ“ä½œæ•°å°±å¼¹æ ˆå¹¶è®¡ç®—æ±‚å’Œå†å‹æ ˆï¼›é‡è§ç«‹å³æ•°å°±å‹æ ˆ</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">evalRPN</span><span class="hljs-params">(String[] tokens)</span> &#123;<br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span> (String token : tokens) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;+-*/&quot;</span>.contains(token)) &#123;<br>                <span class="hljs-comment">// æ³¨æ„ç«‹å³æ•°çš„é¡ºåº</span><br>                <span class="hljs-type">int</span> <span class="hljs-variable">num1</span> <span class="hljs-operator">=</span> stack.pop();<br>                <span class="hljs-type">int</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> stack.pop();<br>                <span class="hljs-keyword">switch</span> (token) &#123;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span>: stack.push(num1 + num2);<br>                              <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span>: stack.push(num2 - num1);<br>                              <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span>: stack.push(num2 * num1);<br>                              <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span>: stack.push(num2 / num1);<br>                              <span class="hljs-keyword">break</span>;<br>                &#125; <br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                stack.push(Integer.parseInt(token));<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> stack.pop();<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-stack-using-queues/">leetcode-225 ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a></p>
<p>  Java æä¾›äº† Queue æ¥å£å¯ä»¥ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ LinkedList ä½œä¸ºå…¶å®ç°ç±»ã€‚å³ç„¶è¦ä¿è¯å…ˆå…¥åå‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¯æ¬¡å°±è¦è®°å½•æ ˆé¡¶çš„å€¼ï¼Œå³é˜Ÿå°¾çš„å€¼ã€‚åœ¨å¼¹æ ˆæ—¶ï¼Œä¸åœçš„å‡ºé˜Ÿç›´è‡³æ ˆé¡¶å…ƒç´ åœ¨é˜Ÿåˆ—çš„é˜Ÿå¤´ä¸ºæ­¢ã€‚æ³¨æ„å¦‚æœæ ˆä¸­å…ƒç´ è¶…è¿‡1ä¸ªæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦è®°å½•ä¸‹ä¸€ä¸ªæ ˆé¡¶å…ƒç´ ï¼Œå› æ­¤åœ¨å‡ºé˜Ÿæ—¶è¿˜éœ€è¦æ ‡è®°å½“å‰æ ˆé¡¶å…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡å¼¹æ ˆæ“ä½œã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyStack</span> &#123;<br>    <span class="hljs-keyword">private</span> Queue&lt;Integer&gt; queue;<br>    <br>    <span class="hljs-comment">// è®°å½•é˜Ÿå°¾å…ƒç´ ï¼Œä¸‹ä¸€æ¬¡å¼¹æ ˆç”¨</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">tail</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyStack</span><span class="hljs-params">()</span> &#123;<br>        queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>        queue.offer(x);<br>        tail = x;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> queue.size();<br><br>        <span class="hljs-keyword">while</span> (size &gt; <span class="hljs-number">2</span>) &#123;<br>            queue.offer(queue.poll());<br>            size--;<br>        &#125;<br><br>        <span class="hljs-comment">// ä¸‹ä¸€æ¬¡çš„æ ˆé¡¶</span><br>        tail = queue.peek();<br>        queue.offer(queue.poll());<br>        <span class="hljs-keyword">return</span> queue.poll();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">top</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> tail;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">empty</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> queue.isEmpty();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/min-stack/">leetcode-155 æœ€å°æ ˆ</a></p>
<p>  è¿™é¢˜é‡‡å–ã€Œç©ºé—´æ¢æ—¶é—´ã€ç­–ç•¥ï¼Œå³ç»´æŠ¤å¦ä¸€æ ˆç”¨äºå­˜å‚¨å¯¹äºå½“å‰æ ˆé¡¶å…ƒç´ è€Œè¨€åˆ°æ ˆåº•çš„æœ€å°å€¼ï¼Œåªéœ€è¦åœ¨æ¯æ¬¡å‹æ ˆçš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹å’Œå½“å‰æœ€å°æ ˆæ ˆé¡¶å…ƒç´ å¤§å°å…³ç³»å³å¯ã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MinStack</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Stack&lt;Integer&gt; stack;<br>    <span class="hljs-keyword">private</span> Stack&lt;Integer&gt; miniStack;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MinStack</span><span class="hljs-params">()</span> &#123;<br>        stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>        miniStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>    &#125;   <br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>        stack.push(val);<br>        <span class="hljs-keyword">if</span> (miniStack.isEmpty() || val &lt;= miniStack.peek()) &#123;<br>            <span class="hljs-comment">// å½“å‰å…ƒç´ è¾ƒå°</span><br>            miniStack.push(val);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// æœ€å°æ ˆä¸­å…ƒç´ æœ€å°</span><br>            miniStack.push(miniStack.peek());<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>        stack.pop();<br>        miniStack.pop();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">top</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> stack.peek();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMin</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> miniStack.peek();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-hit-counter/">leetcode-362 æ•²å‡»è®¡æ•°å™¨</a></p>
<p>  è¿™é‡Œæœ‰ä¸ªè¦æ±‚å°±æ˜¯åªè®°å½•æœ€è¿‘ 300s çš„æ•²å‡»æ¬¡æ•°ï¼Œé‚£ä¹ˆåœ¨è¿”å›å€¼æ—¶å¦‚æœé˜Ÿå¤´å…ƒç´ æ—¶é—´æˆ³è¶…è¿‡äº† 300s å°±ç›´æ¥å‡ºé˜Ÿå¿½ç•¥</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HitCounter</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Queue&lt;Integer&gt; queue;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HitCounter</span><span class="hljs-params">()</span> &#123;<br>        queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hit</span><span class="hljs-params">(<span class="hljs-type">int</span> timestamp)</span> &#123;<br>        queue.offer(timestamp);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getHits</span><span class="hljs-params">(<span class="hljs-type">int</span> timestamp)</span> &#123;<br>        <span class="hljs-keyword">while</span> (!queue.isEmpty() &amp;&amp; timestamp - queue.peek() &gt;= <span class="hljs-number">300</span>) &#123;<br>            <span class="hljs-comment">// ä»…è®°å½•æœ€è¿‘ 300s çš„</span><br>            queue.poll();<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span> queue.size();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-recent-calls/">leetcode-933 æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°</a></p>
<p>  å’Œä¸Šé¢è¿™é“é¢˜æ€æƒ³ä¸€æ ·</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RecentCounter</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Queue&lt;Integer&gt; queque;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RecentCounter</span><span class="hljs-params">()</span> &#123;<br>        queque = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">ping</span><span class="hljs-params">(<span class="hljs-type">int</span> t)</span> &#123;<br>        <span class="hljs-keyword">while</span> (!queque.isEmpty() &amp;&amp; t - queque.peek() &gt; <span class="hljs-number">3000</span>) &#123;<br>            queque.poll();<br>        &#125;<br>        queque.offer(t);<br>        <span class="hljs-keyword">return</span> queque.size();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/moving-average-from-data-stream/">leetcode-346 æ•°æ®æµä¸­çš„ç§»åŠ¨å¹³å‡å€¼</a></p>
<p>  è¿™é¢˜åˆšå¼€å§‹å†™çš„å¾ˆå¤æ‚ï¼Œè®¡ç®—å¹³å‡å€¼éƒ½æ˜¯å…ˆæŠŠå¤šä½™çš„å‡ºé˜Ÿï¼Œå®é™…ä¸Šåªç”¨åˆ¤æ–­æ˜¯å¦ç­‰äºæŒ‡å®š size å°±è¡Œï¼Œå› ä¸ºæ¯æ¬¡åªä¼šæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å¦‚æœè¶…è¿‡äº†å°±å‡ºé˜Ÿä¸€ä¸ªã€‚ç„¶ååŒæ—¶åœ¨å·²ç»´æŠ¤çš„é˜Ÿåˆ—å…ƒç´ æ€»å’Œä¸Šå‡å»å‡ºé˜Ÿçš„å…ƒç´ å€¼å³å¯ã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MovingAverage</span> &#123;<br>    <span class="hljs-keyword">private</span> Queue&lt;Integer&gt; queue;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">queueSum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MovingAverage</span><span class="hljs-params">(<span class="hljs-type">int</span> size)</span> &#123;<br>        queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        <span class="hljs-built_in">this</span>.size = size;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">next</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.size == queue.size()) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">del</span> <span class="hljs-operator">=</span> queue.poll();<br>            queueSum -= del;<br>        &#125;<br>        queue.offer(val);<br>        queueSum += val;<br>        <span class="hljs-keyword">return</span> queueSum * (<span class="hljs-number">1.0</span>) / queue.size();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-circular-queue/">leetcode-622 è®¾è®¡å¾ªç¯é˜Ÿåˆ—</a></p>
<p>  è¿™é‡Œé‡‡ç”¨æ•°ç»„ä½œåº•å±‚ç»“æ„ï¼Œæ³¨æ„ head å’Œ tail çš„ä¸´ç•Œæ¡ä»¶å³å¯</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCircularQueue</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] data;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> head;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> tail;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyCircularQueue</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span> &#123;<br>        data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[k];<br>        size = <span class="hljs-number">0</span>;<br>        head = tail = <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">enQueue</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> &#123;<br>        <span class="hljs-keyword">if</span> (isFull()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (tail == data.length) &#123;<br>            tail = <span class="hljs-number">0</span>;<br>            data[tail] = value;<br><br>        &#125;<br>        data[tail] = value;<br>        tail++;<br>        size++;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">deQueue</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        data[head] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (head == data.length - <span class="hljs-number">1</span>) &#123;<br>            head = <span class="hljs-number">0</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            head++;<br>        &#125;<br>        size--;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">Front</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> isEmpty() ? -<span class="hljs-number">1</span> : data[head];<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">Rear</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (tail == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> data[data.length - <span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> data[tail - <span class="hljs-number">1</span>];<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">return</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span>= <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isFull</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">return</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span>= data.length;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-circular-deque/">leetcode-641 è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—</a></p>
<p>  è·Ÿå¾ªç¯é˜Ÿåˆ—å·®ä¸å¤š</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCircularDeque</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] data;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> head;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> tail;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyCircularDeque</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span> &#123;<br>        data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[k];<br>        size = <span class="hljs-number">0</span>;<br>        head = tail = <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">insertFront</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> &#123;<br>        <span class="hljs-keyword">if</span> (isFull()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-number">0</span>) &#123;<br>            head = data.length - <span class="hljs-number">1</span>;<br>            <br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            head--;<br>        &#125;<br>        data[head] = value;<br>        size++;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">insertLast</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> &#123;<br>        <span class="hljs-keyword">if</span> (isFull()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (tail == data.length) &#123;<br>            tail = <span class="hljs-number">0</span>;<br>        &#125;<br>        data[tail] = value;<br>        tail++;<br>        size++;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">deleteFront</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        data[head] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (head == data.length - <span class="hljs-number">1</span>) &#123;<br>            head = <span class="hljs-number">0</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            head++;<br>        &#125;<br>        size--;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">deleteLast</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (tail == <span class="hljs-number">0</span>) &#123;<br>            tail = data.length;<br>        &#125;<br>        data[tail- <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>        tail--;<br>        size--;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getFront</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> isEmpty() ? -<span class="hljs-number">1</span> : data[head];<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getRear</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125; <br>        <span class="hljs-keyword">if</span> (tail == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> data[data.length - <span class="hljs-number">1</span>];<br>        &#125; <br>        <span class="hljs-keyword">return</span> data[tail - <span class="hljs-number">1</span>];<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">return</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span>= <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isFull</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">return</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span>= data.length;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-front-middle-back-queue/">leetcode-1670 è®¾è®¡å‰ä¸­åé˜Ÿåˆ—</a></p>
<p>  è¿™é“é¢˜çš„éš¾ç‚¹åœ¨äºä»ä¸­é—´å…¥é˜Ÿå’Œå‡ºé˜Ÿï¼Œå› æ­¤ä¸€ä¸ªè§£å†³åŠæ³•æ˜¯å°†é˜Ÿåˆ—æ‹†æˆä¸¤ä¸ªå·¦å³åˆ—è¡¨ã€‚ä»–ä»¬éœ€è¦æ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼š</p>
<p>  <em>1ã€å¦‚æœæœ‰å¶æ•°ä¸ªå…ƒç´ æ—¶ï¼Œ<code>pushMiddle</code> ä¼˜å…ˆå‘å³è¾¹æ·»åŠ </em></p>
<p>  <em>2ã€å¦‚æœæœ‰å¥‡æ•°ä¸ªå…ƒç´ æ—¶ï¼Œ<code>popMiddle</code> ä¼˜å…ˆä»å³è¾¹åˆ é™¤</em></p>
<p>  <em>3ã€å¦‚æœåªæœ‰ 1 ä¸ªå…ƒç´ ï¼Œ<code>popFront</code> çš„æ—¶å€™ï¼Œè¦å»å³è¾¹åˆ é™¤</em></p>
<p>  è¿™ä¸ªå¯ä»¥é€šè¿‡ä¾‹å­æ¨æ–­å‡ºæ¥ï¼Œæ¯æ¬¡éƒ½ä¿è¯å³è¾¹åˆ—è¡¨æœ€å¤šæ¯”å·¦åˆ—è¡¨å¤šä¸€ä¸ªå…ƒç´ ã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FrontMiddleBackQueue</span> &#123;<br>    <span class="hljs-keyword">private</span> LinkedList&lt;Integer&gt; left;<br>    <span class="hljs-keyword">private</span> LinkedList&lt;Integer&gt; right;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">FrontMiddleBackQueue</span><span class="hljs-params">()</span> &#123;<br>        left = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        right = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    &#125;   <br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">balance</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// ç»´æŠ¤å·¦åˆ—è¡¨å’Œå³åˆ—è¡¨çš„æ€§è´¨</span><br>        <span class="hljs-comment">// å³è¾¹åªèƒ½æ¯”å·¦è¾¹å¤šä¸€ä¸ª</span><br>        <span class="hljs-keyword">if</span> (right.size() &gt; left.size() + <span class="hljs-number">1</span>) &#123;<br>            left.addLast(right.removeFirst());<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (right.size() &lt; left.size()) &#123;<br>            right.addFirst(left.removeLast());<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pushFront</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>        left.addFirst(val);<br>        balance();<br><br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pushMiddle</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>        <span class="hljs-keyword">if</span> (size() % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-comment">// å¶æ•°ä¸ªå…ƒç´ å¾€å³åˆ—è¡¨æ’å…¥</span><br>            right.addFirst(val);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            left.addLast(val);<br>        &#125;<br><br>        balance();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pushBack</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>        right.addLast(val);<br>        balance();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">popFront</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (size() == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> e;<br>        <span class="hljs-comment">// åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œåªä¼šåœ¨å³åˆ—è¡¨é‡Œ</span><br>        <span class="hljs-keyword">if</span> (size() == <span class="hljs-number">1</span>) &#123;<br>             e = right.removeLast();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            e =  left.removeFirst();<br>        &#125;<br><br>        balance();<br>        <span class="hljs-keyword">return</span> e;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">popMiddle</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (size() == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> e;<br>        <span class="hljs-keyword">if</span> (size() % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-comment">// å¶æ•°ä¸ªå…ƒç´ ä»å·¦åˆ—è¡¨ç§»é™¤</span><br>            e = left.removeLast();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            e = right.removeFirst();<br>        &#125;<br><br>        balance();<br>        <span class="hljs-keyword">return</span> e;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">popBack</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (size() == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">e</span> <span class="hljs-operator">=</span> right.removeLast();<br>        balance();<br>        <span class="hljs-keyword">return</span> e;<br>    &#125;   <br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> left.size() + right.size();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>å•è°ƒæ ˆ</strong> â€¼ï¸</p>
<p>  ç‰¹æ€§ï¼š<strong>æ¯æ¬¡æ–°å…ƒç´ å…¥æ ˆåï¼Œæ ˆå†…çš„å…ƒç´ éƒ½ä¿æŒæœ‰åº</strong></p>
<p class='item-img' data-src='/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%203.png'><img src="/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%203.png" alt="Untitled"></p>
<p>  å°†å…¶æƒ³è±¡æˆæ¯”è¾ƒèº«é«˜å¤§å°ï¼Œå…¶ç¬¬ä¸€ä¸ªçœ‹è§çš„éœ²å‡ºå¤´çš„å…ƒç´ å³ä¸ºç¬¦åˆè¦æ±‚çš„å…ƒç´ ï¼Œå› ä¸ºåé¢çš„éƒ½è¢«æŒ¡ä½äº†ï¼Œç»“åˆæ ˆç»“æ„ï¼Œå°±æ˜¯ä»åå¾€å‰ä¾æ¬¡æ¯”è¾ƒã€‚ç”±äºæ ˆ FILO ç‰¹æ€§ï¼Œæ¯æ¬¡å¾—åˆ°çš„ä¸€å®šæ˜¯<strong>æœ€è¿‘</strong>çš„æ¯”å®ƒé«˜çš„å…ƒç´ </p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] nextGreaterElement(<span class="hljs-type">int</span>[] nums) &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums.length;<br>    <span class="hljs-comment">// å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„</span><br>    <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>    Stack&lt;Integer&gt; s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;(); <br>    <span class="hljs-comment">// å€’ç€å¾€æ ˆé‡Œæ”¾</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-comment">// åˆ¤å®šä¸ªå­é«˜çŸ®</span><br>        <span class="hljs-keyword">while</span> (!s.isEmpty() &amp;&amp; s.peek() &lt;= nums[i]) &#123;<br>            <span class="hljs-comment">// çŸ®ä¸ªèµ·å¼€ï¼Œåæ­£ä¹Ÿè¢«æŒ¡ç€äº†ã€‚ã€‚ã€‚</span><br>            s.pop();<br>        &#125;<br>        <span class="hljs-comment">// nums[i] èº«åçš„æ›´å¤§å…ƒç´ </span><br>        res[i] = s.isEmpty() ? -<span class="hljs-number">1</span> : s.peek();<br>        s.push(nums[i]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-element-i/">leetcode-496 ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a></p>
<p>  è¿™é“é¢˜ç”±äº nums1 æ˜¯ nums2 çš„å­é›†ï¼Œå› æ­¤åªéœ€è¦å…ˆæ±‚å‡º nums2 å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ç»“æœï¼Œç„¶åå†ç”± nums1 å»æŸ¥æ‰¾å³å¯</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] nextGreaterElement(<span class="hljs-type">int</span>[] nums1, <span class="hljs-type">int</span>[] nums2) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums2.length;<br>        HashMap&lt;Integer, Integer&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &lt;= nums2[i]) &#123;<br>                stack.pop();<br>            &#125;<br><br>            <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> stack.isEmpty() ? -<span class="hljs-number">1</span> : stack.peek();<br>            map.put(nums2[i], res);<br>            stack.push(nums2[i]);<br>        &#125;<br><br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[nums1.length];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; nums1.length; i++) &#123;<br>            res[i] = map.get(nums1[i]);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/daily-temperatures/">leetcode-739 æ¯æ—¥æ¸©åº¦</a></p>
<p>  è¿™é¢˜æ€è·¯æ²¡è½¬è¿‡æ¥ï¼Œå•è°ƒæ ˆé‡Œåªè¦ä¿å­˜ç´¢å¼•å€¼å³å¯</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] dailyTemperatures(<span class="hljs-type">int</span>[] temperatures) &#123;<br><br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[temperatures.length];<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> temperatures.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; temperatures[stack.peek()] &lt;= temperatures[i]) &#123;<br>                stack.pop();<br>            &#125;<br><br>            res[i] = stack.isEmpty() ? <span class="hljs-number">0</span> : stack.peek() - i;<br>            stack.push(i);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ç¯å½¢æ•°ç»„çš„è§£å†³</p>
<p>  ç¯å½¢æ•°ç»„çš„ç‰¹ç‚¹åœ¨äºå…¶æœ€åä¸€ä¸ªå…ƒç´ ä¼šç´§æ¥ç€ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜å®é™…æ˜¯éœ€è¦å°†æ•°ç»„é•¿åº¦ç¿»å€å³å¯</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] nextGreaterElements(<span class="hljs-type">int</span>[] nums) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums.length;<br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>        <br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-comment">// æ¨¡æ‹Ÿç¿»å€ï¼Œå–æ¨¡è¿ç®—å³å¯</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> * n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &lt;= nums[i % n]) &#123;<br>                stack.pop();<br>            &#125; <br>            <br>            res[i % n] = stack.isEmpty() ? -<span class="hljs-number">1</span> : stack.peek();<br>            stack.push(nums[i % n]);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>å•è°ƒæ ˆå˜ä½“</strong> â€¼ï¸</p>
<ol>
<li><p>ä¸‹ä¸€ä¸ª<strong>æ›´å¤§æˆ–ç›¸ç­‰</strong>çš„å…ƒç´ </p>
<p> æŠŠä¸Šé¢è¿™æ®µä»£ç ä¸­ while å¾ªç¯çš„ <code>&lt;=</code> å·æ”¹æˆ <code>&lt;</code> å·å³å¯</p>
</li>
<li><p>ä¸‹ä¸€ä¸ª<strong>æ›´å°</strong>å…ƒç´ </p>
<p> while å¾ªç¯çš„ <code>&lt;=</code> æ¡ä»¶æ”¹æˆ <code>&gt;=</code> æ¡ä»¶å³å¯</p>
</li>
<li><p>ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰å…ƒç´ </p>
<p> while å¾ªç¯çš„ <code>&gt;=</code> æ¡ä»¶æ”¹æˆ <code>&gt;</code> å³å¯</p>
</li>
<li><p><strong>ä¸Šä¸€ä¸ª</strong>æ›´å¤§å…ƒç´ </p>
<p> ä»å¤´è‡³å°¾å¼€å§‹å¾€æ ˆé‡Œæ”¾å…ƒç´ å³å¯ï¼Œæ ˆé¡¶å…ƒç´ å°±æ˜¯ <code>nums[i]</code> ä¹‹å‰çš„å…ƒç´ </p>
</li>
<li><p><strong>ä¸Šä¸€ä¸ª</strong>æ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ </p>
<p> åŒ1</p>
</li>
<li><p><strong>ä¸Šä¸€ä¸ª</strong>æ›´å°çš„å…ƒç´ </p>
<p> åŒ2</p>
</li>
<li><p>ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ </p>
<p> åŒ3</p>
</li>
</ol>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-node-in-linked-list/">leetcode-1019 é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹</a></p>
<p>  åªéœ€è¦å°†é“¾è¡¨å…ˆè½¬æ¢ä¸ºæ•°ç»„å³å¯</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] nextLargerNodes(ListNode head) &#123;<br>        ArrayList&lt;Integer&gt; arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">ListNode</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> head; p != <span class="hljs-literal">null</span>; p = p.next) &#123;<br>            arr.add(p.val);<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> arr.size();<br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &lt;= arr.get(i)) <br>            &#123;<br>                stack.pop();<br>            &#125;<br><br>            res[i] = stack.isEmpty() ? <span class="hljs-number">0</span> : stack.peek();<br>            stack.push(arr.get(i));<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-visible-people-in-a-queue/">leetcode-1944 é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°</a> <strong>hard</strong></p>
<p>  è¿™é“é¢˜å¯ä»¥è½¬ä¸ºä¸ºæ±‚ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç­‰äºå…ƒç´ é—®é¢˜ï¼Œåªä¸è¿‡åœ¨ç»Ÿè®¡çš„æ—¶å€™è®°å½•å°äºè¯¥å…ƒç´ èº«é«˜çš„ä¸ªæ•°ï¼›å¦å¤–ä¸€ç›´å›°æƒ‘å¯¹äºè¿™ç§èº«é«˜ç¡®å®ä½äºå®ƒçš„å…ƒç´ ä½†æ˜¯ç”±äºå·¦è¾¹æœ‰æ¯”ä»–é«˜çš„æ‰€ä»¥ä¸ç®—æ˜¯æ€ä¹ˆè§£å†³çš„ï¼Œåº”è¯¥æ˜¯å•è°ƒæ ˆçš„ç‰¹æ€§ï¼Œå…¶ä¸­ä¼šä¿æŒ<strong>å•è°ƒé€’å¢</strong>ç‰¹æ€§ï¼ˆå¯¹äºæ±‚ä¸‹ä¸€æ›´å¤§å…ƒç´ è€Œè¨€ï¼‰ï¼Œå› æ­¤è¿™ä¸ªå…ƒç´ åœ¨ä¹‹å‰è®¡ç®—æ—¶æ—©å°±è¢«å¼¹æ ˆå‡ºå»äº†</p>
<p class='item-img' data-src='/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%204.png'><img src="/2023/04/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%204.png" alt="Untitled"></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] canSeePersonsCount(<span class="hljs-type">int</span>[] heights) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> heights.length;<br>        <span class="hljs-comment">// &#123;èº«é«˜ï¼Œå°äºç­‰äºè¯¥èº«é«˜äººæ•°&#125;</span><br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &lt; heights[i]) &#123;<br>                stack.pop();<br>                count++;<br>                <span class="hljs-comment">// æ ˆä¸­å…ƒç´ å•è°ƒé€’å¢ æ ˆé¡¶ -&gt; æ ˆåº•</span><br>            &#125;<br><br>            res[i] = stack.isEmpty() ? count : count + <span class="hljs-number">1</span>;<br>            stack.push(heights[i]);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br><br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/">leetcode-1475 å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼</a></p>
<p>  ç»å…¸å•è°ƒæ ˆä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰å…ƒç´ é—®é¢˜</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] finalPrices(<span class="hljs-type">int</span>[] prices) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> prices.length;<br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        Stack&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &gt; prices[i]) &#123;<br>                stack.pop();<br>            &#125;<br><br>            res[i] = stack.isEmpty() ? -<span class="hljs-number">1</span> : stack.peek();<br>            stack.push(prices[i]);<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">if</span> (res[i] != -<span class="hljs-number">1</span>) &#123;<br>                res[i] = prices[i] - res[i];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                 res[i] = prices[i];<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/online-stock-span/">leetcode-901 è‚¡ç¥¨ä»·æ ¼è·¨åº¦</a></p>
<p>  è¿™é“é¢˜è½¬æ¢ä¸€ä¸‹æ€è·¯ï¼Œè‚¡ç¥¨ä»·æ ¼å°äºæˆ–ç­‰äºä»Šå¤©ä»·æ ¼çš„<strong>æœ€å¤§</strong>è¿ç»­æ—¥æ•°å³å‘å‰çœ‹æ›´å¤§å…ƒç´ é—®é¢˜ã€‚ä½†æ˜¯è¿™é‡Œæ³¨æ„è¦ä¿ç•™å¼¹æ ˆå…ƒç´ å¯¹åº”çš„å¤§äºä»·æ ¼å¤©æ•°çš„è®°å½•ï¼Œè¿™ä¸ªæºäºå•è°ƒæ ˆçš„å•è°ƒç‰¹æ€§ï¼ˆè¿™é‡Œæ˜¯å•è°ƒé€’å‡ï¼‰</p>
<blockquote>
<p>æ¯”å¦‚å·²ç»å…¥æ ˆçš„ä»·æ ¼åºåˆ—æ˜¯ <code>[40, 30, 20, 10]</code>ï¼Œé‚£ä¹ˆå¦‚æœæ‰§è¡Œ <code>next(25)</code>ï¼Œä»·æ ¼åºåˆ—å˜æˆ <code>[40, 30, 25]</code>ï¼Œ20 å’Œ 10 éƒ½ä¼šè¢«ã€ŒæŒ¤æ‰ã€ï¼Œç®—ä¸Š 25 æœ¬èº«ï¼Œå‡½æ•°è¿”å› 2 + 1 = 3ã€‚</p>
<p><strong>ä½†è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œè¿™ä¸ª 3 åº”è¯¥ä½œä¸ºã€Œæƒé‡ã€å’Œ 25 ä¸€åŒå­˜å‚¨åœ¨æ ˆä¸­</strong>ã€‚å› ä¸ºä¹‹å 25 è¿˜å¯èƒ½è¢«æŒ¤æ‰ï¼Œæ¯”å¦‚è¯´æ‰§è¡Œ <code>next(26)</code>ï¼Œä»·æ ¼åºåˆ—å°±å˜æˆäº† <code>[40, 30, 26]</code>ï¼Œä½†è¿™ç§æƒ…å†µä¸‹ä¹‹å‰çš„ 20 å’Œ 10 æ˜¾ç„¶ä¹Ÿåº”è¯¥è¢«æŒ¤æ‰ï¼Œå‡½æ•°åº”è¯¥è¿”å› 3 + 1 = 4</p>
</blockquote>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StockSpanner</span> &#123;<br>    <span class="hljs-keyword">private</span> Stack&lt;<span class="hljs-type">int</span>[]&gt; stack;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">StockSpanner</span><span class="hljs-params">()</span> &#123;<br>        stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">next</span><span class="hljs-params">(<span class="hljs-type">int</span> price)</span> &#123;<br>        <span class="hljs-comment">// ç®—ä¸Šå½“å¤©</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek()[<span class="hljs-number">0</span>] &lt;= price) &#123;<br>            <span class="hljs-comment">// ä¿ç•™æ¯ä¸ªä»·æ ¼çš„æƒå€¼ï¼Œå³å·²ç»å¤§äºæˆ–ç­‰äºçš„ä»·æ ¼ç´¯è®¡å¤©æ•°</span><br>            count += stack.pop()[<span class="hljs-number">1</span>];<br>        &#125;<br>        stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;price, count&#125;);<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-k-digits/">leetcode-402 ç§»æ‰ K ä½æ•°å­—</a></p>
<p>  è¿™é¢˜éœ€è¦ä¿è¯ä¿®æ”¹åçš„æ•°å­—æœ€å°ï¼Œéœ€è¦ç»è¿‡ä¸¤æ­¥æ“ä½œï¼š</p>
<ol>
<li>k &gt; 0 çš„æƒ…å†µä¸‹ç§»é™¤å…ƒç´ ä½¿å¾—å­—ç¬¦ä¸²ä¸­æ•°å­—å‡åºæ’å¸ƒï¼Œå¯è½¬åŒ–ä¸ºå‘å‰çœ‹æ›´å¤§å…ƒç´ é—®é¢˜ï¼Œä¿è¯å•è°ƒæ ˆä¸­å…ƒç´ ä¸ºå‡åº</li>
<li><p>k &gt; 0 çš„æƒ…å†µä¸‹ç§»é™¤å­—ç¬¦ä¸²å°¾éƒ¨å…ƒç´ ï¼Œå› ä¸ºå°¾éƒ¨å…ƒç´ æœ€å¤§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">removeKdigits</span><span class="hljs-params">(String num, <span class="hljs-type">int</span> k)</span> &#123;<br>        Stack&lt;Character&gt; stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : num.toCharArray()) &#123;<br>            <span class="hljs-comment">// ä¿è¯å•è°ƒæ ˆæ˜¯å•å¢çš„</span><br>            <span class="hljs-keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &gt; c &amp;&amp; k &gt; <span class="hljs-number">0</span>) &#123;<br>                stack.pop();<br>                k--;<br>            &#125;<br><br>            <span class="hljs-comment">// å­—ç¬¦ä¸²ä¸ä»¥ 0 å¼€å¤´</span><br>            <span class="hljs-keyword">if</span> (stack.isEmpty() &amp;&amp; c == <span class="hljs-string">&#x27;0&#x27;</span>) &#123;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br><br>            stack.push(c);<br>        &#125;<br><br>            <span class="hljs-comment">// å¼¹æ‰æœ«å°¾çš„å…ƒç´ </span><br>        <span class="hljs-keyword">while</span> (k &gt; <span class="hljs-number">0</span> &amp;&amp; !stack.isEmpty()) &#123;<br>            stack.pop();<br>            k--;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (stack.isEmpty()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0&quot;</span>;<br>        &#125; <br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        <span class="hljs-keyword">while</span> (!stack.isEmpty()) &#123;<br>            sb.append(stack.pop());<br>        &#125;<br>        <span class="hljs-comment">// å‡ºæ ˆæ˜¯ä»¥é€†åºå­—ç¬¦ä¸²å½¢å¼</span><br>        <span class="hljs-keyword">return</span> sb.reverse().toString();<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li><p>å•è°ƒé˜Ÿåˆ—</p>
<p>  å³æ»¡è¶³é˜Ÿåˆ—ä¸­çš„å…ƒç´ éƒ½æ˜¯å•è°ƒé€’å¢ï¼ˆé€’å‡ï¼‰çš„ã€‚</p>
<ul>
<li><p>ä¸<strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong>çš„åŒºåˆ«</p>
<p>  ä¼˜å…ˆçº§é˜Ÿåˆ—æ— æ³•æ»¡è¶³æ ‡å‡†é˜Ÿåˆ—ç»“æ„ã€Œå…ˆè¿›å…ˆå‡ºã€çš„<strong>æ—¶é—´é¡ºåº</strong>ï¼Œå› ä¸ºä¼˜å…ˆçº§é˜Ÿåˆ—åº•å±‚åˆ©ç”¨äºŒå‰å †å¯¹å…ƒç´ è¿›è¡ŒåŠ¨æ€æ’åºï¼Œå…ƒç´ çš„å‡ºé˜Ÿé¡ºåºæ˜¯<strong>å…ƒç´ çš„å¤§å°é¡ºåº</strong>ï¼Œå’Œå…¥é˜Ÿçš„å…ˆåé¡ºåºå®Œå…¨æ²¡æœ‰å…³ç³»ï¼›è€Œä¼˜å…ˆçº§é˜Ÿåˆ—ç»´æŠ¤é˜Ÿåˆ—å…ƒç´ ã€Œå…ˆè¿›å…ˆå‡ºã€çš„<strong>æ—¶é—´é¡ºåº</strong>ï¼Œåˆèƒ½å¤Ÿæ­£ç¡®ç»´æŠ¤é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å€¼</p>
</li>
<li><p>ä¸æ»‘åŠ¨çª—å£åŒæŒ‡é’ˆçš„åŒºåˆ«</p>
<p>  æ»‘åŠ¨çª—å£åŒæŒ‡é’ˆæ— æ³•å•å‡­ç§»å‡ºçª—å£çš„é‚£ä¸ªå…ƒç´ æ›´æ–°çª—å£çš„æœ€å€¼</p>
</li>
</ul>
</li>
</ul>
<pre><code>**åº”ç”¨ï¼š**

- [leetcode-239 æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum/) **hard**

    é¦–å…ˆé˜Ÿåˆ—éœ€è¦åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œé˜Ÿå¤´ç§»é™¤å…ƒç´ ï¼Œå› æ­¤åº•å±‚å¯ä»¥é‡‡ç”¨ LinkedList æ•°æ®ç»“æ„ï¼›

    å¯¹äºé˜Ÿå°¾æ’å…¥æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯ç±»ä¼¼å•è°ƒæ ˆä¸€æ ·çš„å•å‡ç‰¹æ€§ï¼Œå¦‚æœé˜Ÿå°¾å…ƒç´ æ¯”å¾…æ’å…¥çš„å…ƒç´ å°å°±å‡ºé˜Ÿï¼ˆæˆ–è€…ä»é˜Ÿå°¾åˆ°é˜Ÿå¤´çœ‹æ˜¯é€’å¢çš„ï¼‰ï¼›

    ![Untitled](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%205.png)

    å¯¹äºé˜Ÿå¤´å…ƒç´ æ¥è¯´å°±æ˜¯æœ€å¤§çš„ï¼Œåœ¨å‡ºé˜Ÿæ—¶ï¼Œè¿˜éœ€è¦åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªçª—å£æœ€å·¦è¾¹çš„å…ƒç´ æ˜¯ä¸æ˜¯å’Œå•è°ƒé˜Ÿåˆ—çš„é˜Ÿå¤´æ˜¯åŒä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœä¸æ˜¯å°±ç›´æ¥å¿½ç•¥ï¼ˆå› ä¸ºæ—©å°±è¢«ç§»å‡ºå»äº†ï¼‰

    ![Untitled](%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E7%AF%87%2048420399d0014e07ac9760f1e579f6d8/Untitled%206.png)

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">MonotonicQueue</span>  &#123;<br>        <span class="hljs-keyword">private</span> LinkedList&lt;Integer&gt; link;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">MonotonicQueue</span><span class="hljs-params">()</span> &#123;<br>            link = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">enqueue</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>            <span class="hljs-keyword">while</span> (!link.isEmpty() &amp;&amp; link.getLast() &lt; val) &#123;<br>                link.pollLast();<br>            &#125;<br><br>            link.addLast(val);<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dequeue</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>            <span class="hljs-keyword">if</span> (link.getFirst() == val) &#123;<br>                link.removeFirst();<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> link.getFirst();<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] maxSlidingWindow(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> k) &#123;<br>        ArrayList&lt;Integer&gt; tmp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-type">MonotonicQueue</span> <span class="hljs-variable">window</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MonotonicQueue</span>();<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; nums.length; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i &lt; k - <span class="hljs-number">1</span>) &#123;<br>                window.enqueue(nums[i]);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// æ»¡è¶³äº†çª—å£å¤§å°ä¸º k</span><br>                window.enqueue(nums[i]);<br>                tmp.add(window.getMax());<br>                <span class="hljs-comment">// ä¸‹ä¸€æ¬¡ç§»åŠ¨çª—å£å‰å…ˆå‡ºé˜Ÿ</span><br>                window.dequeue(nums[i - k + <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[tmp.size()];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; res.length; i++) &#123;<br>            res[i] = tmp.get(i);<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

- é€šç”¨æ¨¡æ¿

    å…¶ä¸­ä¸¤ä¸ªé“¾è¡¨åˆ†åˆ«ç»´æŠ¤æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ ï¼›è¿˜æœ‰ä¸€ä¸ªé“¾è¡¨ç”¨æ¥ç»´æŠ¤é˜Ÿåˆ—çš„å¤§å°å’Œæ—¶é—´é¡ºåº

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/* å•è°ƒé˜Ÿåˆ—çš„å®ç°ï¼Œå¯ä»¥é«˜æ•ˆç»´æŠ¤æœ€å¤§å€¼å’Œæœ€å°å€¼ */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MonotonicQueue</span>&lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Comparable</span>&lt;E&gt;&gt; &#123;<br>    <span class="hljs-comment">// å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span><br>    LinkedList&lt;E&gt; q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    <span class="hljs-comment">// å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span><br>    LinkedList&lt;E&gt; maxq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    <span class="hljs-comment">// å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span><br>    LinkedList&lt;E&gt; minq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(E elem)</span> &#123;<br>        <span class="hljs-comment">// ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span><br>        q.addLast(elem);<br><br>        <span class="hljs-comment">// ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span><br>        <span class="hljs-keyword">while</span> (!maxq.isEmpty() &amp;&amp; maxq.getLast().compareTo(elem) &lt; <span class="hljs-number">0</span>) &#123;<br>            maxq.pollLast();<br>        &#125;<br>        maxq.addLast(elem);<br><br>        <span class="hljs-comment">// ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span><br>        <span class="hljs-keyword">while</span> (!minq.isEmpty() &amp;&amp; minq.getLast().compareTo(elem) &gt; <span class="hljs-number">0</span>) &#123;<br>            minq.pollLast();<br>        &#125;<br>        minq.addLast(elem);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> E <span class="hljs-title function_">max</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span><br>        <span class="hljs-keyword">return</span> maxq.getFirst();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> E <span class="hljs-title function_">min</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span><br>        <span class="hljs-keyword">return</span> minq.getFirst();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> E <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span><br>        <span class="hljs-type">E</span> <span class="hljs-variable">deleteVal</span> <span class="hljs-operator">=</span> q.pollFirst();<br>        <span class="hljs-keyword">assert</span> deleteVal != <span class="hljs-literal">null</span>;<br><br>        <span class="hljs-comment">// ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span><br>        <span class="hljs-keyword">if</span> (deleteVal.equals(maxq.getFirst())) &#123;<br>            maxq.pollFirst();<br>        &#125;<br>        <span class="hljs-keyword">if</span> (deleteVal.equals(minq.getFirst())) &#123;<br>            minq.pollFirst();<br>        &#125;<br>        <span class="hljs-keyword">return</span> deleteVal;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span><br>        <span class="hljs-keyword">return</span> q.size();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> q.isEmpty();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


**ç»å…¸ä¾‹é¢˜ï¼š**

- [leetcode-1438 ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„](https://leetcode.cn/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/)

    è¿™é“é¢˜å°±æ˜¯å•è°ƒé˜Ÿåˆ— + æ»‘åŠ¨çª—å£çš„ç»“åˆï¼š

    1. å½“çª—å£ä¸­å…ƒç´ æå·®å°äºç­‰äº limit æ—¶æ‰©å¤§çª—å£
    2. å½“çª—å£ä¸­å…ƒç´ æå·®å¤§äº limit æ—¶ç¼©å°çª—å£
    3. æ“ä½œä¹‹åæ›´æ–°çª—å£å¤§å°ä½œä¸ºæœ€é•¿å­æ•°ç»„

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">longestSubarray</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> limit)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">MonotonicQueue</span> <span class="hljs-variable">window</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MonotonicQueue</span>();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">while</span> (right &lt; nums.length) &#123;<br>            window.push(nums[right]);<br>            right++;<br>            <span class="hljs-keyword">while</span> (window.getMax() - window.getMin() &gt; limit) &#123;<br>                window.pop(nums[left]);<br>                left++;<br>            &#125;<br>            <br>            res = Math.max(res, window.size());<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">MonotonicQueue</span> &#123;<br>       LinkedList&lt;Integer&gt; q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br><br>       LinkedList&lt;Integer&gt; maxq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;(); <br>       LinkedList&lt;Integer&gt; minq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br><br>       <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> &#123;<br>           q.addLast(val);<br><br>           <span class="hljs-keyword">while</span> (!maxq.isEmpty() &amp;&amp; maxq.getLast() &lt; val) &#123;<br>               maxq.pollLast();<br>           &#125;<br>           maxq.addLast(val);<br><br>           <span class="hljs-keyword">while</span> (!minq.isEmpty() &amp;&amp; minq.getLast() &gt; val) &#123;<br>               minq.pollLast();<br>           &#125;<br>            minq.addLast(val);<br>       &#125;<br><br>       <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">(<span class="hljs-type">int</span> dele)</span> &#123;<br>           q.pollFirst();<br>           <span class="hljs-keyword">if</span> (dele == maxq.getFirst()) &#123;<br>               maxq.pollFirst();<br>           &#125;<br>           <span class="hljs-keyword">if</span> (dele == minq.getFirst()) &#123;<br>               minq.pollFirst();<br>           &#125;<br>       &#125;<br><br>       <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">()</span> &#123;<br>           <span class="hljs-keyword">return</span> maxq.getFirst();<br>       &#125;<br><br>       <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMin</span><span class="hljs-params">()</span> &#123;<br>           <span class="hljs-keyword">return</span> minq.getFirst();<br>       &#125;<br><br>       <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> &#123;<br>           <span class="hljs-keyword">return</span> q.size();<br>       &#125;<br><br>       <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123;<br>           <span class="hljs-keyword">return</span> q.isEmpty();<br>       &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

- [leetcode-862 å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„](https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/) **hard**

    [leetcode-209 é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.cn/problems/minimum-size-subarray-sum/)

    è¿™é“é¢˜éœ€è¦ç»“åˆ å‰ç¼€å’Œã€æ»‘åŠ¨çª—å£å’Œå•è°ƒé˜Ÿåˆ—çš„æ€è·¯ã€‚åˆ©ç”¨å‰ç¼€å’Œå¯ä»¥æ±‚å¾—å­æ•°ç»„å’Œï¼ˆå¤§äº k æ—¶æ»‘åŠ¨çª—å£æ»¡è¶³ç¼©å°æ¡ä»¶ï¼‰ï¼Œæ»‘åŠ¨çª—å£è¾…åŠ©å®šä½ä»€ä¹ˆæ—¶å€™å‰ç¼€å’Œ**å‡å»æœ€å°å…ƒç´ å€¼**ä»ç„¶æ˜¯ â‰¥ k çš„ï¼Œå³ä¸ºæ»¡è¶³æ¡ä»¶çš„æƒ…å†µ

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">shortestSubarray</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> k)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums.length;<br>        <span class="hljs-comment">// å‰ç¼€å’Œ</span><br>        <span class="hljs-type">long</span>[] preSum = <span class="hljs-keyword">new</span> <span class="hljs-title class_">long</span>[n + <span class="hljs-number">1</span>];<br>        preSum[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            preSum[i] = preSum[i-<span class="hljs-number">1</span>] + nums[i-<span class="hljs-number">1</span>];<br>        &#125;<br><br>        <span class="hljs-type">MonotonicQueue</span> <span class="hljs-variable">window</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MonotonicQueue</span>();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, right = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> Integer.MAX_VALUE;<br>        <span class="hljs-keyword">while</span> (right &lt; preSum.length) &#123;<br>            window.push(preSum[right]);<br>            right++;<br>            <span class="hljs-comment">// è¿™é‡Œæœ€åä¸€è½® right ä¼šè¶Šç•Œ</span><br>            <span class="hljs-keyword">while</span> (right &lt; preSum.length &amp;&amp; !window.isEmpty() &amp;&amp; preSum[right] - window.getMin() &gt;= k) &#123;<br>                len = Math.min(len, right - left);<br>                window.pop();<br>                left++;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-type">return</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span>= Integer.MAX_VALUE ? -<span class="hljs-number">1</span> : len;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">MonotonicQueue</span> &#123;<br>        LinkedList&lt;Long&gt; q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        LinkedList&lt;Long&gt; maxq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        LinkedList&lt;Long&gt; minq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">long</span> val)</span> &#123;<br>            q.addLast(val);<br><br>            <span class="hljs-keyword">while</span> (!maxq.isEmpty() &amp;&amp; maxq.getLast() &lt; val) &#123;<br>                maxq.pollLast();<br>            &#125;<br>            maxq.addLast(val);<br><br>            <span class="hljs-keyword">while</span> (!minq.isEmpty() &amp;&amp; minq.getLast() &gt; val) &#123;<br>                minq.pollLast();<br>            &#125;<br>            minq.addLast(val);<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-type">long</span> <span class="hljs-variable">del</span> <span class="hljs-operator">=</span> q.pollFirst();<br>            <span class="hljs-keyword">if</span> (del == maxq.getFirst()) &#123;<br>                maxq.pollFirst();<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (del == minq.getFirst()) &#123;<br>                minq.pollFirst();<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getMin</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> minq.getFirst();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> maxq.getFirst();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> q.size();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> q.isEmpty();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

- [leetcode-918 ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode.cn/problems/maximum-sum-circular-subarray/)

    è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯ç¯å½¢æ•°ç»„çš„å­æ•°ç»„å’Œï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥æ²¿ç”¨ä¹‹å‰çš„æ€è·¯ï¼Œå°†ç¯å½¢æ•°ç»„å±•å¼€æˆçº¿æ€§çš„ 2 å€é•¿åº¦ã€‚ä½†æ˜¯é¢˜ç›®ç»™äº†é™åˆ¶å­æ•°ç»„é•¿åº¦ä¸èƒ½è¶…è¿‡ nums.lengthï¼Œå› æ­¤è¿˜éœ€è¦å€ŸåŠ©æ»‘åŠ¨çª—å£æ¥æ§åˆ¶çª—å£å¤§å°ï¼Œåœ¨æ¯æ¬¡å…¥é˜Ÿæ—¶æ›´æ–°å­æ•°ç»„å’Œæœ€å¤§å€¼ã€‚

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxSubarraySumCircular</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> nums.length;<br>        <span class="hljs-type">long</span>[] preSum = <span class="hljs-keyword">new</span> <span class="hljs-title class_">long</span>[<span class="hljs-number">2</span> * n + <span class="hljs-number">1</span>];<br>        preSum[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; preSum.length; i++) &#123;<br>            preSum[i] = preSum[i-<span class="hljs-number">1</span>] + nums[(i - <span class="hljs-number">1</span> + n) % n];<br>        &#125;<br><br>        <span class="hljs-type">MonotonicQueue</span> <span class="hljs-variable">window</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MonotonicQueue</span>();<br>        <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‰ç¼€å’Œ</span><br>        window.push(<span class="hljs-number">0</span>);<br>        <span class="hljs-type">long</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> Integer.MIN_VALUE;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; preSum.length; i++) &#123;<br>							<span class="hljs-comment">// å‡çš„æ—¶å€™å°½é‡ä¸è¦å‡å¤ªå¤šï¼Œä¹Ÿå°±æ˜¯å‡æœ€å°å€¼</span><br>            len = Math.max(len, preSum[i] - window.getMin());<br><br>            <span class="hljs-keyword">if</span> (window.size() == nums.length) &#123;<br>                window.pop();<br>            &#125;<br><br>            window.push(preSum[i]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>) len;<br>    &#125;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">MonotonicQueue</span> &#123;<br>        LinkedList&lt;Long&gt; q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        LinkedList&lt;Long&gt; maxq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        LinkedList&lt;Long&gt; minq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">long</span> val)</span> &#123;<br>            q.addLast(val);<br><br>            <span class="hljs-keyword">while</span> (!maxq.isEmpty() &amp;&amp; maxq.getLast() &lt; val) &#123;<br>                maxq.pollLast();<br>            &#125;<br>            maxq.addLast(val);<br><br>            <span class="hljs-keyword">while</span> (!minq.isEmpty() &amp;&amp; minq.getLast() &gt; val) &#123;<br>                minq.pollLast();<br>            &#125;<br>            minq.addLast(val);<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-type">long</span> <span class="hljs-variable">del</span> <span class="hljs-operator">=</span> q.pollFirst();<br>            <span class="hljs-keyword">if</span> (del == maxq.getFirst()) &#123;<br>                maxq.pollFirst();<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (del == minq.getFirst()) &#123;<br>                minq.pollFirst();<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getMin</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> minq.getFirst();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> maxq.getFirst();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> q.size();<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> q.isEmpty();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

- **TODO:** éœ€è¦ç”¨åˆ°åŠ¨æ€è§„åˆ’

    [leetcode-1696 è·³è·ƒæ¸¸æˆ VI](https://leetcode.cn/problems/jump-game-vi/)

    [leetcode-53 æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/)

    [leetcode-1425 å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ](https://leetcode.cn/problems/constrained-subsequence-sum/)

- [leetcode-1429 ç¬¬ä¸€ä¸ªå”¯ä¸€æ•°å­—](https://leetcode.cn/problems/first-unique-number/)

    è¿™é¢˜ä¸»è¦è€ƒå¯Ÿ å“ˆå¸Œè¡¨å’Œé˜Ÿåˆ—çš„é…åˆä½¿ç”¨ï¼Œæˆ‘ä»¬é€šè¿‡å“ˆå¸Œè¡¨æ¥è®°å½•æ•°ç»„ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œé˜Ÿåˆ—æ¥ä¿æŒå…ƒç´ çš„å…ˆåé¡ºåºã€‚åœ¨æŸ¥æ‰¾å”¯ä¸€å…ƒç´ æ—¶ï¼Œå¯¹äºé˜Ÿåˆ—ä¸­ä¸å”¯ä¸€çš„å…ƒç´ ï¼Œå› ä¸ºå§‹ç»ˆä¸æ»¡è¶³é¢˜æ„ï¼Œå› æ­¤ç›´æ¥åˆ å»å³å¯ã€‚

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FirstUnique</span> &#123;<br>    <span class="hljs-keyword">private</span> HashMap&lt;Integer, Integer&gt; count = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-keyword">private</span> LinkedList&lt;Integer&gt; q = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">FirstUnique</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums)</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) &#123;<br>            add(num);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">showFirstUnique</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">while</span> (!q.isEmpty()) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> q.peek();<br>            <span class="hljs-keyword">if</span> (count.get(v) &gt; <span class="hljs-number">1</span>) &#123;<br>                q.poll();<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> v;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> &#123;<br>        q.offer(value);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> count.getOrDefault(value, <span class="hljs-number">0</span>);<br>        count.put(value, v + <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</code></pre><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/04/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0-%E5%93%88%E5%B8%8C%E7%AF%87%202c219ce944cb4603a432d4ae58b4fff5/">â† Next ç®—æ³•æå‡â€”â€”å“ˆå¸Œç¯‡</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/04/08/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%20%E4%B9%8B%20ByteCodeDL%20%E7%AF%87/">é™æ€åˆ†æå®æˆ˜ ä¹‹ ByteCodeDL ç¯‡ Prev â†’</a></div></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">âˆ§</a><a class="i-index" id="to-index" href="#toc-div" title="To Catalog">â‰¡</a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">RacerZ</a></h1><div id="description"><p></p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/RacerZ-fighting"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" href="qiyizhang2002@foxmail.com"><i class="fa fa-envelope" alt="E-Mail"></i></a></div></div><div id="aside-block"></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside><div id="shadow-aside"></div></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>